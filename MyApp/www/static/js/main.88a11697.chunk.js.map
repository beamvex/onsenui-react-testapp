{"version":3,"sources":["assets/img/iscream-logo.png","constants/action-types.js","actions/index.js","MapPage.js","HomePage.js","App.js","serviceWorker.js","reducers/auth/index.js","reducers/location/index.js","reducers/ui/index.js","reducers/trucks/index.js","reducers/localstore/index.js","reducers/index.js","sagas/auth/index.js","sagas/location/index.js","sagas/trucks/index.js","sagas/index.js","store/index.js","index.js"],"names":["module","exports","__webpack_require__","p","GET_TRUCKS","TRUCKS_RECEIVED","GET_LOCATION","LOCATION_RECEIVED","OPEN_POPOVER","CLOSE_POPOVER","LOGIN","REGISTER","LOAD_STORE","UPDATE_EMAIL","UPDATE_LISTNER","ADD_TRUCK","updateListener","listener","type","mapStateToProps","state","console","log","mapDispatchToProps","dispatch","openPopUp","target","text","closePopUp","AnyReactComponent","_ref","react_default","a","createElement","react_onsenui","size","default","material","icon","TruckBase","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this2","onClick","btn","document","name","ref","React","Component","Truck","connect","MapPopoverBase","_this3","_this4","uiReducer","isOpen","onCancel","getTarget","isCancelable","style","textAlign","opacity","MapPopover","SimpleMap","height","width","paddingTop","lib_default","bootstrapURLKeys","key","center","zoom","defaultCenter","defCenter","defaultZoom","defZoom","MapPage_AnyReactComponent","lat","lng","trucks","map","doc","id","defaultProps","MapPage","_this5","MapPage_SimpleMap","locationReducer","truckReducer","HomePageBase","prevProps","authReducer","email","setState","className","src","logoURL","alt","value","float","onChange","event","placeholder","password","modifier","signIn","signUp","HomePage","updateEmail","App","index","onPreChange","onPostChange","onReactive","position","renderTabs","activeIndex","tabbar","content","title","active","tab","label","src_MapPage","Boolean","window","location","hostname","match","initialState","loggedin","listner","undefined","rootReducer","combineReducers","arguments","length","action","assign","store","currentTrucks","push","truck","localstoreReducer","savedState","storestr","JSON","stringify","localStorage","setItem","registerFB","authFB","regenerator_default","wrap","_context","prev","next","select","sent","firebase","setPersistence","Auth","Persistence","LOCAL","then","createUserWithEmailAndPassword","catch","error","errorCode","code","errorMessage","message","stop","_marked","_context2","signInWithEmailAndPassword","_marked2","apiKey","projectId","onAuthStateChanged","user","uid","fetchLocation","response","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","theerror","noGeo","reason","put","location_marked","fetchTrucks","collection","onSnapshot","updateTrucks","trucks_marked","result","trucksReceived","forEach","data","objectSpread","addTruck","actionWatcher","rootSaga","takeLatest","sagas_marked","all","sagas_marked2","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","run","ReactDOM","render","es","src_App_0","getElementById","serviceWorker","ready","registration","unregister","subscribe","getState","localStore","parse","getItem","e"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,4RCA3BC,EAAa,aACbC,EAAkB,kBAClBC,EAAe,eACfC,EAAoB,oBACpBC,EAAe,eACfC,EAAgB,gBAChBC,EAAQ,QACRC,EAAW,WACXC,EAAa,aACbC,EAAe,eACfC,EAAiB,iBACjBC,EAAY,YC0ClB,SAASC,EAAeC,GAC3B,MAAO,CAAEC,KAAMJ,EAAgBG,YC/CnC,IAAME,EAAkB,SAAAC,GAEpB,OADAC,QAAQC,IAAIF,GACLA,GAGX,SAASG,EAAmBC,GACxB,MAAO,CACHC,UAAW,SAACC,EAAQC,GAAT,OAAkBH,EDe9B,SAAmBE,EAAQC,GAC9B,MAAO,CAAET,KAAMV,EAAckB,SAAQC,QChBKF,CAAUC,EAAQC,KACxDC,WAAY,kBAAMJ,EDmBf,CAAEN,KAAMT,MCfnB,IAAMoB,EAAoB,SAAAC,KAAGH,KAAH,OAAcI,EAAAC,EAAAC,cAACC,EAAA,KAAD,CACpCC,KAAM,CAAEC,QAAS,GAAIC,SAAU,IAC/BC,KAAM,CAAEF,QAAS,iBAGfG,cAEF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDpB,MAAQ,GAHEqB,wEAOV,IAAAO,EAAAJ,KACL,OACIb,EAAAC,EAAAC,cAACC,EAAA,KAAD,CACIC,KAAM,CAAEC,QAAS,GAAIC,SAAU,IAC/BC,KAAM,CAAEF,QAAS,YACjBa,QAAS,WACL5B,QAAQC,IAAI,YACZ0B,EAAKR,MAAMf,UAAUuB,EAAKE,IAAKF,EAAKR,MAAMW,SAASC,OAEvDC,IAAK,SAACH,GAAUF,EAAKE,IAAMA,YAlBnBI,IAAMC,WAyBxBC,EAAQC,YAAQtC,EAAiBI,EAAzBkC,CAA6ClB,GAErDmB,cAEF,SAAAA,EAAYlB,GAAO,IAAAmB,EAAA,OAAAjB,OAAAC,EAAA,EAAAD,CAAAE,KAAAc,IACfC,EAAAjB,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgB,GAAAX,KAAAH,KAAMJ,KAEDpB,MAAQ,GAHEuC,wEAOV,IAAAC,EAAAhB,KAEL,OADAvB,QAAQC,IAAI,qBAAsBsB,KAAKJ,MAAMqB,UAAUC,QAEnD/B,EAAAC,EAAAC,cAACC,EAAA,QAAD,CACI4B,OAAQlB,KAAKJ,MAAMqB,UAAUC,OAC7BC,SAAU,WAAQ1C,QAAQC,IAAI,aAAcsC,EAAKpB,MAAMZ,cACvDoC,UAAW,kBAAMJ,EAAKpB,MAAMqB,UAAUnC,QAAQuC,cAAc,GAE5DlC,EAAAC,EAAAC,cAAA,OAAKiC,MAAO,CAAEC,UAAW,SAAUC,QAAS,KACxCrC,EAAAC,EAAAC,cAAA,SAAIW,KAAKJ,MAAMqB,UAAUlC,MACzBI,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,sEAnBMqB,IAAMC,WA0B7Bc,EAAaZ,YAAQtC,EAAiBI,EAAzBkC,CAA6CC,GAE1DY,mLAWE,OAEIvC,EAAAC,EAAAC,cAAA,OAAKiC,MAAO,CAAEK,OAAQ,sBAAuBC,MAAO,OAAQC,WAAY,SACpE1C,EAAAC,EAAAC,cAACyC,EAAA1C,EAAD,CACI2C,iBAAkB,CAAEC,IAAK,2CACzBC,OAAQjC,KAAKJ,MAAMqC,OACnBC,KAAMlC,KAAKJ,MAAMsC,KACjBC,cAAenC,KAAKJ,MAAMwC,UAC1BC,YAAarC,KAAKJ,MAAM0C,SAExBnD,EAAAC,EAAAC,cAACkD,EAAD,CACIC,IAAKxC,KAAKJ,MAAMqC,OAAOO,IACvBC,IAAKzC,KAAKJ,MAAMqC,OAAOQ,IACvB1D,KAAK,cAGRiB,KAAKJ,MAAM8C,OAAOC,IAAI,SAAAC,GAInB,OAAQzD,EAAAC,EAAAC,cAACuB,EAAD,CAAOoB,IAAKY,EAAIC,GAAIL,IAAKI,EAAIJ,IAAKC,IAAKG,EAAIH,IAAKlC,SAAUqC,eA/BlElC,IAAMC,WAAxBe,EACKoB,aAAe,CAClBV,UAAW,CACPI,IAAK,EACLC,IAAK,IAETH,QAAS,OAmCXS,cAEF,SAAAA,EAAYnD,GAAO,IAAAoD,EAAA,OAAAlD,OAAAC,EAAA,EAAAD,CAAAE,KAAA+C,IACfC,EAAAlD,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiD,GAAA5C,KAAAH,KAAMJ,KAEDpB,MAAQ,CACTyD,OAAQ,CACJO,IAAK,QACLC,IAAK,OAETP,KAAM,EACNhB,QAAQ,GATG8B,wEAgBf,OAFAvE,QAAQC,IAAI,UAAWsB,KAAKJ,OAGxBT,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC4D,EAAD,CAAWhB,OAAQjC,KAAKJ,MAAMsD,gBAAgBjB,OAAQC,KAAMlC,KAAKJ,MAAMsD,gBAAgBhB,KAAMQ,OAAQ1C,KAAKJ,MAAMuD,aAAaT,SAG7HvD,EAAAC,EAAAC,cAACoC,EAAD,cAvBMf,IAAMC,WA6BbE,cAAQtC,EAARsC,CAAyBkC,wBChIlCK,cAEF,SAAAA,EAAYxD,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoD,IACfvD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsD,GAAAjD,KAAAH,KAAMJ,KAEDpB,MAAQ,GAHEqB,kFAQAwD,GAEXA,EAAUC,YAAYC,QAAUvD,KAAKJ,MAAM0D,YAAYC,OACvDvD,KAAKwD,SAAS,CAACD,MAAOvD,KAAKJ,MAAM0D,YAAYC,yCAI5C,IAAAnD,EAAAJ,KAIL,OACIb,EAAAC,EAAAC,cAAA,OAAKoE,UAAU,gBACXtE,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKqE,IAAKC,IAASC,IAAI,cAAcH,UAAU,qBAE/CtE,EAAAC,EAAAC,cAACC,EAAA,KAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,IAAD,KAAKH,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACLH,EAAAC,EAAAC,cAAA,iCAEAF,EAAAC,EAAAC,cAACC,EAAA,IAAD,KAAKH,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACLH,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOmE,UAAU,YACbI,MAAO7D,KAAKxB,MAAM+E,MAAOO,OAAK,EAC9BC,SAAU,SAACC,GAAY5D,EAAKoD,SAAS,CAACD,MAAOS,EAAMlF,OAAO+E,SAC1DI,YAAY,qBAEhB9E,EAAAC,EAAAC,cAACC,EAAA,IAAD,KAAKH,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACLH,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOmE,UAAU,YACbI,MAAO7D,KAAKxB,MAAM0F,SAAUJ,OAAK,EACjCC,SAAU,SAACC,GAAY5D,EAAKoD,SAAS,CAACU,SAAUF,EAAMlF,OAAO+E,SAC7DI,YAAY,WAAW3F,KAAK,eAEhCa,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACAH,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAKmE,UAAU,cACftE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQ6E,SAAS,aAAa9D,QAAS,WAAOD,EAAKR,MAAMwE,OAAOhE,EAAK5B,MAAM+E,MAAOnD,EAAK5B,MAAM0F,YAA7F,aAIA/E,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAKmE,UAAU,cACftE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQ6E,SAAS,aAAa9D,QAAS,WAAOD,EAAKR,MAAMyE,OAAOjE,EAAK5B,MAAM+E,MAAOnD,EAAK5B,MAAM0F,YAA7F,wBAjDGxD,IAAMC,WA6DpB2D,EAAWzD,YA1EA,SAAArC,GAEpB,OADAC,QAAQC,IAAI,WAAYF,GACjBA,GAGX,SAA4BI,GACxB,MAAO,CACHwF,OAAQ,SAACb,EAAOW,GAAR,OAAqBtF,EF0B9B,SAAgB2E,EAAOW,GAC1B,MAAO,CAAE5F,KAAMR,EAAOyF,QAAOW,YE3BaE,CAAOb,EAAOW,KACpDG,OAAQ,SAACd,EAAOW,GAAR,OAAqBtF,EFqB9B,SAAgB2E,EAAOW,GAC1B,MAAO,CAAE5F,KAAMP,EAAUwF,QAAOW,YEtBUG,CAAOd,EAAOW,KACpDK,YAAa,SAAChB,GAAD,OAAW3E,EF4BzB,SAAqB2E,GACxB,MAAO,CAAEjF,KAAML,EAAcsF,SE7BQgB,CAAYhB,OAiE7B1C,CAA6CuC,GCpBtDoB,cArDb,SAAAA,EAAY5E,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwE,IACjB3E,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0E,GAAArE,KAAAH,KAAMJ,KACDpB,MAAQ,CAACiG,MAAM,GAFH5E,wEAKV,IAAAO,EAAAJ,KACP,OACEb,EAAAC,EAAAC,cAACC,EAAA,KAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,QAAD,CAASmE,UAAU,iBACjBtE,EAAAC,EAAAC,cAAA,OAAKoE,UAAU,SAGftE,EAAAC,EAAAC,cAAA,OAAKoE,UAAU,UACbtE,EAAAC,EAAAC,cAAA,OAAKqE,IAAKC,IAAShC,OAAO,OAAOiC,IAAI,iBAEvCzE,EAAAC,EAAAC,cAAA,OAAKoE,UAAU,WAIjBtE,EAAAC,EAAAC,cAACC,EAAA,OAAD,CACEoF,YAAa,SAAAxF,GAAA,IAAGuF,EAAHvF,EAAGuF,MAAH,OAAerE,EAAKoD,SAAS,CAACiB,WAC3CE,aAAc,kBAAMlG,QAAQC,IAAI,eAChCkG,WAAY,kBAAMnG,QAAQC,IAAI,eAC9BmG,SAAS,SACTJ,MAAOzE,KAAKxB,MAAMiG,MAClBK,WAAY,SAACC,EAAaC,GAAd,MAAyB,CACnC,CACEC,QAAS9F,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAM4F,MAAM,OAAOC,OAAwB,IAAhBJ,EAAmBC,OAAQA,GAC7D7F,EAAAC,EAAAC,cAACiF,EAAD,OAEFc,IAAKjG,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAK+F,MAAM,OAAO3F,KAAK,aAE9B,CACEuF,QAAS9F,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAM4F,MAAM,OAAOC,OAAwB,IAAhBJ,EAAmBC,OAAQA,GACzD7F,EAAAC,EAAAC,cAACiG,EAAD,OAENF,IAAKjG,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAK+F,MAAM,OAAO3F,KAAK,YAE9B,CACEuF,QAAS9F,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAM4F,MAAM,KAAKC,OAAwB,IAAhBJ,EAAmBC,OAAQA,IAC7DI,IAAKjG,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAK+F,MAAM,KAAK3F,KAAK,gBAE5B,CACEuF,QAAS9F,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAM4F,MAAM,WAAWC,OAAwB,IAAhBJ,EAAmBC,OAAQA,IACnEI,IAAKjG,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAK+F,MAAM,WAAW3F,KAAK,6BA9C5BgB,IAAMC,WCKJ4E,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,uECjBAC,EAAe,CACjBrC,MAAO,GACPW,SAAU,GACV2B,UAAU,GCHd,IAAMD,EAAe,CACnB3D,OAAQ,CACNO,IAAK,QACLC,IAAK,OAEPP,KAAM,GCLR,IAAM0D,EAAe,CACnB7G,KAAM,GACND,OAAQ,KACRoC,QAAQ,GCHV,IAAM0E,EAAe,CACnBlD,OAAQ,GACRoD,aAASC,GCFX,IAAIH,EAAe,GCMnB,IAEeI,EAFGC,YAAgB,CAAC3C,YLA5B,WAAmD,IAA9B9E,EAA8B0H,UAAAC,OAAA,QAAAJ,IAAAG,UAAA,GAAAA,UAAA,GAAtBN,EAAcQ,EAAQF,UAAAC,OAAA,EAAAD,UAAA,QAAAH,EAEtD,OAAIK,EAAO9H,OAASR,EACTgC,OAAOuG,OAAO,GAAI7H,EAAO,CAC5B+E,MAAO6C,EAAO7C,MACdW,SAAUkC,EAAOlC,WAGhBkC,EAAO9H,OAASP,EACd+B,OAAOuG,OAAO,GAAI7H,EAAO,CAC5B+E,MAAO6C,EAAO7C,MACdW,SAAUkC,EAAOlC,WAGhBkC,EAAO9H,OAASL,EACd6B,OAAOuG,OAAO,GAAI7H,EAAO,CAC5B+E,MAAO6C,EAAO7C,QAGb6C,EAAO9H,OAASN,GACrBS,QAAQC,IAAI,aAAc0H,GACnBtG,OAAOuG,OAAO,GAAI7H,EAAO,CAC5B+E,MAAO6C,EAAOE,MAAQF,EAAOE,MAAM/C,MAAQ,MAI5C/E,GK1BqC0E,gBJEzC,WAAuD,IAA9B1E,EAA8B0H,UAAAC,OAAA,QAAAJ,IAAAG,UAAA,GAAAA,UAAA,GAAtBN,EAAcQ,EAAQF,UAAAC,OAAA,EAAAD,UAAA,QAAAH,EAC5D,OAAIK,EAAO9H,OAASX,GAClBc,QAAQC,IAAI0H,GACLtG,OAAOuG,OAAO,GAAI7H,EAAO,CAC9ByD,OAAQmE,EAAOX,SAASxD,OACxBC,KAAMkE,EAAOX,SAASvD,QAGnB1D,GIVwDyC,UHA1D,WAAiD,IAA9BzC,EAA8B0H,UAAAC,OAAA,QAAAJ,IAAAG,UAAA,GAAAA,UAAA,GAAtBN,EAAcQ,EAAQF,UAAAC,OAAA,EAAAD,UAAA,QAAAH,EACtD,OAAIK,EAAO9H,OAASV,GAClBa,QAAQC,IAAI0H,GACLtG,OAAOuG,OAAO,GAAI7H,EAAO,CAC9BO,KAAMqH,EAAOrH,KACbD,OAAQsH,EAAOtH,OACfoC,QAAQ,KAGHkF,EAAO9H,OAAST,GACvBY,QAAQC,IAAI0H,GACLtG,OAAOuG,OAAO,GAAI7H,EAAO,CAC9BO,KAAM,GACND,OAAQ,KACRoC,QAAQ,KAGL1C,GGjBmE2E,aFDrE,WAAoD,IAA9B3E,EAA8B0H,UAAAC,OAAA,QAAAJ,IAAAG,UAAA,GAAAA,UAAA,GAAtBN,EAAcQ,EAAQF,UAAAC,OAAA,EAAAD,UAAA,QAAAH,EACzD,GAAIK,EAAO9H,OAASb,EAElB,OADAgB,QAAQC,IAAI0H,GACLtG,OAAOuG,OAAO,GAAI7H,EAAO,CAC9BkE,OAAQ0D,EAAO1D,SAGd,GAAI0D,EAAO9H,OAASJ,EACvB,OAAO4B,OAAOuG,OAAO,GAAI7H,EAAO,CAC9BsH,QAASM,EAAON,UAGf,GAAIM,EAAO9H,OAASH,EAAW,CAClCM,QAAQC,IAAI0H,GACZ,IAAIG,EAAgB/H,EAAMkE,OAE1B,OADA6D,EAAcC,KAAKJ,EAAOK,OACnB3G,OAAOuG,OAAO,GAAI7H,EAAO,CAC9BkE,OAAQ6D,IAIZ,OAAO/H,GEpBiFkI,kBDJnF,WAAyD,IAA9BlI,EAA8B0H,UAAAC,OAAA,QAAAJ,IAAAG,UAAA,GAAAA,UAAA,GAAtBN,EAAcQ,EAAQF,UAAAC,OAAA,EAAAD,UAAA,QAAAH,EAExDY,GAAa,EAiBjB,GAfIP,EAAO9H,OAASR,GAChBU,EAAQsB,OAAOuG,OAAO,GAAI7H,EAAO,CAC7B+E,MAAO6C,EAAO7C,MACdW,SAAU,KAEdyC,GAAa,GAERP,EAAO9H,OAASP,IACrBS,EAAQsB,OAAOuG,OAAO,GAAI7H,EAAO,CAC7B+E,MAAO6C,EAAO7C,MACdW,SAAU,KAEdyC,GAAa,GAGbA,EAAY,CAEZ,IAAIC,EAAWC,KAAKC,UAAUtI,GAE9BC,QAAQC,IAAI,QAASkI,GAErBG,aAAaC,QAAQ,QAASJ,GAIlC,OAAOpI,gEEzBMyI,iBAeAC,IAfV,SAAUD,KAAV,IAAAzI,EAAA,OAAA2I,EAAA/H,EAAAgI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACW,OADXF,EAAAE,KAAA,EACiBC,eADjB,OACGhJ,EADH6I,EAAAI,KAEHC,UAAgBC,eAAeD,QAAcE,KAAKC,YAAYC,OAC3DC,KAAK,WACJL,UAAgBM,+BAA+BxJ,EAAM8E,YAAYC,MAAO/E,EAAM8E,YAAYY,YAE7F+D,MAAM,SAASC,GAEZ,IAAIC,EAAYD,EAAME,KAClBC,EAAeH,EAAMI,QAEzB7J,QAAQC,IAAIyJ,EAAWE,KAXxB,wBAAAhB,EAAAkB,SAAAC,IAeA,SAAUtB,KAAV,IAAA1I,EAAA,OAAA2I,EAAA/H,EAAAgI,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,OACW,OADXkB,EAAAlB,KAAA,EACiBC,eADjB,OACGhJ,EADHiK,EAAAhB,KAEHC,UAAgBC,eAAeD,QAAcE,KAAKC,YAAYC,OAC7DC,KAAK,WACFL,UAAgBgB,2BAA2BlK,EAAM8E,YAAYC,MAAO/E,EAAM8E,YAAYY,YAEzF+D,MAAM,SAASC,GAEZ,IAAIC,EAAYD,EAAME,KAClBC,EAAeH,EAAMI,QAEzB7J,QAAQC,IAAIyJ,EAAWE,KAXxB,wBAAAI,EAAAF,SAAAI,IAeGjB,iBAAuB,CAC7BkB,OAAQ,0CACRC,UAAW,gBAEfnB,UAAgBoB,mBAAmB,SAACC,GAChCtK,QAAQC,IAAI,aAAcqK,GACb,OAATA,EACAtK,QAAQC,IAAI,YAAaqK,EAAKC,KAG9BvK,QAAQC,IAAI,mCC5CHuK,IAAV,SAAUA,KAAV,IAAAC,EAAA,OAAA/B,EAAA/H,EAAAgI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OAFZF,EAAAE,KAAA,EAEkB,IAAI4B,QAAQ,SAACC,EAASC,GACnCC,UAAUC,YACVD,UAAUC,YAAYC,mBAAmB,SAAA3E,GACrCpG,QAAQC,IAAI,aAAemG,EAAS4E,OAAOC,SAC/C,kBAAoB7E,EAAS4E,OAAOE,WAEhCP,EAAQ,CACJnH,OAAQ,CACJO,IAAKqC,EAAS4E,OAAOC,SACrBjH,IAAKoC,EAAS4E,OAAOE,WAEzBzH,KAAM,MAGd,SAAA0H,GACIR,EAAQ,CAACS,OAAO,EAAMC,OAAQF,EAAU3H,OAAQ,CAC5CO,IAAK,QACLC,IAAK,OAETP,KAAM,OAGVkH,EAAQ,CAACS,OAAO,EAAM5H,OAAQ,CAC1BO,IAAK,QACLC,IAAK,OAETP,KAAM,GAAI4H,OAAQ,yBA5BvB,OAgCH,OA9BIZ,EAFD7B,EAAAI,KAAAJ,EAAAE,KAAA,EAgCGwC,aZTC,CAAEzL,KAAMX,EAAmB8H,SYSPyD,IAhCxB,OAkCH,OAlCG7B,EAAAE,KAAA,EAkCGwC,aZvBC,CAAEzL,KAAMd,IYXZ,wBAAA6J,EAAAkB,SAAAyB,6BCOUC,IAAV,SAAUA,KAAV,IAAAzL,EAAAH,EAAA,OAAA8I,EAAA/H,EAAAgI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEW,OAFXF,EAAAE,KAAA,EAEiBC,eAFjB,OAUH,YANmCzB,KAF7BvH,EAFH6I,EAAAI,MAIOtE,aAAa2C,SACnBtH,EAAM2E,aAAa2C,UAGnBzH,OAAW0H,EARZsB,EAAAE,KAAA,EAUGlJ,EAAWqJ,eAAqBwC,WAAW,UAAUC,WAAWC,IAVnE,OAYH,OAZG/C,EAAAE,KAAA,EAYGwC,aAAI3L,EAAeC,IAZtB,wBAAAgJ,EAAAkB,SAAA8B,IAgBP,SAASD,GAAaE,GAIlBhE,GAAM1H,SbTH,SAAwB8D,GAC3B,MAAO,CAAEpE,KAAMb,EAAiBiF,UaQjB6H,CAFF,KAIbD,EAAOE,QAAQ,SAAU5H,GAErBnE,QAAQC,IAAIkE,EAAIC,GAAI,OAAQD,EAAI6H,QAChC,IAAIhE,EAAK3G,OAAA4K,GAAA,EAAA5K,CAAA,CACL+C,GAAID,EAAIC,IACLD,EAAI6H,QAEXnE,GAAM1H,SbkBP,SAAkB6H,GACrB,MAAO,CAAEnI,KAAMH,EAAWsI,SanBPkE,CAASlE,sBChCtBmE,gBAOeC,IAPzB,SAAUD,KAAV,OAAAzD,EAAA/H,EAAAgI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACI,OADJF,EAAAE,KAAA,EACUuD,aAAWtN,EAAYyM,IADjC,OAEI,OAFJ5C,EAAAE,KAAA,EAEUuD,aAAWpN,EAAcuL,IAFnC,OAGI,OAHJ5B,EAAAE,KAAA,EAGUuD,aAAW/M,EAAUkJ,IAH/B,OAII,OAJJI,EAAAE,KAAA,EAIUuD,aAAWhN,EAAOoJ,IAJ5B,wBAAAG,EAAAkB,SAAAwC,IAOe,SAAUF,KAAV,OAAA1D,EAAA/H,EAAAgI,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,OACX,OADWkB,EAAAlB,KAAA,EACLyD,aAAI,CACNJ,OAFO,wBAAAnC,EAAAF,SAAA0C,ICTf,IAAMC,GAAiBC,cAEjB7E,GAAQ8E,YAAYpF,EAAaqF,YAAgBH,KAEvDA,GAAeI,IAAIT,IAEJvE,4BCIfiF,IAASC,OAASrM,EAAAC,EAAAC,cAACoM,EAAA,EAAD,CAAUnF,MAAOA,IAC/BnH,EAAAC,EAAAC,cAACqM,EAAD,OAEJnL,SAASoL,eAAe,SZ+GlB,kBAAmBrC,WACrBA,UAAUsC,cAAcC,MAAM9D,KAAK,SAAA+D,GACjCA,EAAaC,eY1GnBzF,GAAM0F,UAAU,WACZvN,QAAQC,IAAI4H,GAAM2F,cAGtB,IAAIC,GAAa,GACjB,IACIA,GAAarF,KAAKsF,MAAMpF,aAAaqF,QAAQ,UAC/C,MAAOC,KAIT/F,GAAM1H,ShBcK,CAAEN,KAAMN,EAAYsI,MgBdN4F,KAEzB5F,GAAM1H,ShBpBK,CAAEN,KAAMZ","file":"static/js/main.88a11697.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/iscream-logo.d2b7eafc.png\";","export const GET_TRUCKS = \"GET_TRUCKS\";\nexport const TRUCKS_RECEIVED = \"TRUCKS_RECEIVED\";\nexport const GET_LOCATION = \"GET_LOCATION\";\nexport const LOCATION_RECEIVED = \"LOCATION_RECEIVED\";\nexport const OPEN_POPOVER = \"OPEN_POPOVER\";\nexport const CLOSE_POPOVER = \"CLOSE_POPOVER\";\nexport const LOGIN = \"LOGIN\";\nexport const REGISTER = \"REGISTER\";\nexport const LOAD_STORE = \"LOAD_STORE\";\nexport const UPDATE_EMAIL = \"UPDATE_EMAIL\";\nexport const UPDATE_LISTNER = \"UPDATE_LISTNER\";\nexport const ADD_TRUCK = \"ADD_TRUCK\";","import { GET_TRUCKS, \n    TRUCKS_RECEIVED, \n    GET_LOCATION, \n    LOCATION_RECEIVED, \n    OPEN_POPOVER, \n    CLOSE_POPOVER, \n    LOGIN, \n    REGISTER,\n    UPDATE_EMAIL,\n    LOAD_STORE,\n    UPDATE_LISTNER,\n    ADD_TRUCK } from \"../constants/action-types\";\n\nexport function getTrucks() {\n    return { type: GET_TRUCKS}\n}\n\nexport function getLocation() {\n    return { type: GET_LOCATION}\n}\n\nexport function trucksReceived(trucks) {\n    return { type: TRUCKS_RECEIVED, trucks };\n}\n\nexport function locationReceived(location) {\n    return { type: LOCATION_RECEIVED, location };\n}\n\nexport function openPopUp(target, text) {\n    return { type: OPEN_POPOVER, target, text };\n}\n\nexport function closePopUp() {\n    return { type: CLOSE_POPOVER}\n}\n\nexport function signUp(email, password) {\n    return { type: REGISTER, email, password }\n}\n\nexport function signIn(email, password) {\n    return { type: LOGIN, email, password }\n}\n\nexport function updateEmail(email) {\n    return { type: UPDATE_EMAIL, email }\n}\n\nexport function loadStore(store) {\n    return { type: LOAD_STORE, store }\n}\n\nexport function updateListener(listener) {\n    return { type: UPDATE_LISTNER, listener }\n}\n\nexport function addTruck(truck) {\n    return { type: ADD_TRUCK, truck }\n}","import React from 'react';\nimport './App.css';\nimport { Icon, AlertDialog, Button, Popover } from 'react-onsenui';\nimport GoogleMapReact from 'google-map-react';\nimport { connect } from \"react-redux\";\nimport { openPopUp, closePopUp } from \"./actions/index\"\n\nconst mapStateToProps = state => {\n    console.log(state);\n    return state;\n};\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        openPopUp: (target, text) => dispatch(openPopUp(target, text)),\n        closePopUp: () => dispatch(closePopUp())\n    };\n}\n\nconst AnyReactComponent = ({ text }) => <Icon\n    size={{ default: 32, material: 40 }}\n    icon={{ default: 'md-gps-dot' }}\n/>;\n\nclass TruckBase extends React.Component {\n\n    constructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        this.state = {\n        };\n    }\n\n    render() {\n        return (\n            <Icon\n                size={{ default: 32, material: 40 }}\n                icon={{ default: 'md-truck' }}\n                onClick={() => {\n                    console.log(\"clicked!\");\n                    this.props.openPopUp(this.btn, this.props.document.name);\n                }}\n                ref={(btn) => { this.btn = btn; }}\n            >\n            </Icon>);\n    }\n\n}\n\nconst Truck = connect(mapStateToProps, mapDispatchToProps)(TruckBase);\n\nclass MapPopoverBase extends React.Component {\n\n    constructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        this.state = {\n        };\n    }\n\n    render() {\n        console.log('map popover render', this.props.uiReducer.isOpen);\n        return (\n            <Popover\n                isOpen={this.props.uiReducer.isOpen}\n                onCancel={() => { console.log('cancelled'); this.props.closePopUp(); }}\n                getTarget={() => this.props.uiReducer.target} isCancelable={true}\n            >\n                <div style={{ textAlign: 'center', opacity: 0.5 }}>\n                    <p>{this.props.uiReducer.text}</p>\n                    <p><small>Click the background to remove the popover.</small></p>\n                </div>\n            </Popover>\n        )\n    }\n}\n\nconst MapPopover = connect(mapStateToProps, mapDispatchToProps)(MapPopoverBase);\n\nclass SimpleMap extends React.Component {\n    static defaultProps = {\n        defCenter: {\n            lat: 0,\n            lng: 51\n        },\n        defZoom: 1\n    };\n\n    render() {\n\n        return (\n            // Important! Always set the container height explicitly\n            <div style={{ height: 'calc(100vh - 100px)', width: '100%', paddingTop: '45px' }}>\n                <GoogleMapReact\n                    bootstrapURLKeys={{ key: 'AIzaSyCI47PgInts5BBEQ8UypZYHqpf-zLeHiDY' }}\n                    center={this.props.center}\n                    zoom={this.props.zoom}\n                    defaultCenter={this.props.defCenter}\n                    defaultZoom={this.props.defZoom}\n                >\n                    <AnyReactComponent\n                        lat={this.props.center.lat}\n                        lng={this.props.center.lng}\n                        text=\"My Marker\"\n                    />\n\n                    {this.props.trucks.map(doc => {\n\n\n\n                        return (<Truck key={doc.id} lat={doc.lat} lng={doc.lng} document={doc} />);\n                    }\n                    )}\n\n                </GoogleMapReact>\n            </div>\n        );\n    }\n}\n\nclass MapPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        this.state = {\n            center: {\n                lat: 51.4934,\n                lng: 0.0098\n            },\n            zoom: 1,\n            isOpen: false\n        };\n    }\n\n    render() {\n        console.log('mappage', this.props);\n\n        return (\n            <div>\n                <SimpleMap center={this.props.locationReducer.center} zoom={this.props.locationReducer.zoom} trucks={this.props.truckReducer.trucks}>\n\n                </SimpleMap>\n                <MapPopover />\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps)(MapPage);\n","import React from 'react';\nimport './App.css';\nimport logoURL from './assets/img/iscream-logo.png';\nimport { Card, Input, Button, Col, Row} from 'react-onsenui';\nimport { connect } from \"react-redux\";\nimport { signIn, signUp, updateEmail } from \"./actions/index\"\nimport memoize from \"memoize-one\";\n\nconst mapStateToProps = state => {\n    console.log('homepage', state);\n    return state;\n};\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        signIn: (email, password) => dispatch(signIn(email, password)),\n        signUp: (email, password) => dispatch(signUp(email, password)),\n        updateEmail: (email) => dispatch(updateEmail(email))\n    };\n}\n\nclass HomePageBase extends React.Component {\n\n    constructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        this.state = {\n\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        //console.log('homepage CDU', prevProps, this.props);\n        if (prevProps.authReducer.email !== this.props.authReducer.email) {\n            this.setState({email: this.props.authReducer.email})\n        }        \n    }\n\n    render() {\n\n        //console.log('homepage render', this.props);\n\n        return (\n            <div className=\"homepage-div\">\n                <div>\n                    <img src={logoURL} alt=\"iscream.app\" className=\"home-logo-center\"/>\n                    \n                    <Card>\n                        <Row><Col>\n                        <p>Sign in or Sign up</p>\n                        </Col></Row>\n                        <Row><Col>\n                        <Input className=\"width-max\"\n                            value={this.state.email} float\n                            onChange={(event) => { this.setState({email: event.target.value})} }\n                            placeholder='E-mail Address' />\n                        </Col></Row>\n                        <Row><Col>\n                        <Input className=\"width-max\"\n                            value={this.state.password} float\n                            onChange={(event) => { this.setState({password: event.target.value})} }\n                            placeholder='Password' type=\"password\" />\n                        </Col></Row>\n                        <Row>                            \n                        <Col className=\"p50pButton\">\n                        <Button modifier=\"large--cta\" onClick={() => {this.props.signIn(this.state.email, this.state.password)}}>\n                        Sign In!\n                        </Button>\n                        </Col>\n                        <Col className=\"p50pButton\">\n                        <Button modifier=\"large--cta\" onClick={() => {this.props.signUp(this.state.email, this.state.password)}}>\n                        Sign Up!\n                        </Button>\n                        </Col>\n                        </Row>\n                    </Card>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(HomePageBase);\n","import React from 'react';\nimport { Tabbar, Tab, Page, Toolbar, BackButton, ToolbarButton, Icon } from 'react-onsenui';\nimport './App.css';\nimport MapPage from './MapPage';\nimport { HomePage } from './HomePage';\nimport logoURL from './assets/img/iscream-logo.png';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {index:0};\n  }\n\n  render() {\n    return (\n      <Page>\n        <Toolbar className=\"gradient-back\">\n          <div className=\"left\">\n           \n          </div>\n          <div className=\"center\">\n            <img src={logoURL} height=\"40px\" alt=\"iscream.app\"/>\n          </div>\n          <div className=\"right\">\n            \n          </div>\n        </Toolbar>\n        <Tabbar\n          onPreChange={({ index }) => this.setState({index})}\n          onPostChange={() => console.log('postChange')}\n          onReactive={() => console.log('postChange')}\n          position='bottom'\n          index={this.state.index}\n          renderTabs={(activeIndex, tabbar) => [\n            {\n              content: <Page title=\"Home\" active={activeIndex === 0} tabbar={tabbar}>\n                <HomePage/>\n                  </Page>,\n              tab: <Tab label=\"Home\" icon=\"md-home\" />\n            },\n            {\n              content: <Page title=\"Maps\" active={activeIndex === 1} tabbar={tabbar}>\n                    <MapPage/>\n                </Page>,\n              tab: <Tab label=\"Maps\" icon=\"md-map\" />\n            },\n            {\n              content: <Page title=\"Me\" active={activeIndex === 2} tabbar={tabbar} />,\n              tab: <Tab label=\"Me\" icon=\"md-account\" />\n            },\n            {\n              content: <Page title=\"Settings\" active={activeIndex === 3} tabbar={tabbar} />,\n              tab: <Tab label=\"Settings\" icon=\"md-settings\" />\n            }]\n          }\n        />\n      </Page>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { LOGIN, REGISTER, LOAD_STORE, UPDATE_EMAIL } from \"../../constants/action-types\";\nconst initialState = {\n    email: '',\n    password: '',\n    loggedin: false,\n};\n\nexport function authReducer(state = initialState, action) {\n\n    if (action.type === LOGIN) {\n        return Object.assign({}, state, {\n            email: action.email,\n            password: action.password\n        });\n    }\n    else if (action.type === REGISTER) {\n        return Object.assign({}, state, {\n            email: action.email,\n            password: action.password\n        });\n    }\n    else if (action.type === UPDATE_EMAIL) {\n        return Object.assign({}, state, {\n            email: action.email,\n        });\n    }\n    else if (action.type === LOAD_STORE) {\n        console.log('load store', action);\n        return Object.assign({}, state, {\n            email: action.store ? action.store.email : '',\n        });\n    }\n\n    return state;\n\n}\n","import { LOCATION_RECEIVED } from \"../../constants/action-types\";\nconst initialState = {\n  center: {\n    lat: 51.4934,\n    lng: 0.0098\n  },\n  zoom: 1\n};\n\nexport function locationReducer(state = initialState, action) {\n  if (action.type === LOCATION_RECEIVED) {\n    console.log(action);\n    return Object.assign({}, state, {\n      center: action.location.center,\n      zoom: action.location.zoom\n    });\n  }\n  return state;\n}\n","import { OPEN_POPOVER, CLOSE_POPOVER } from \"../../constants/action-types\";\nconst initialState = {\n  text: '',\n  target: null,\n  isOpen: false\n};\n\nexport function uiReducer(state = initialState, action) {\n  if (action.type === OPEN_POPOVER) {\n    console.log(action);\n    return Object.assign({}, state, {\n      text: action.text,\n      target: action.target,\n      isOpen: true\n    });\n  }\n  else if (action.type === CLOSE_POPOVER) {\n    console.log(action);\n    return Object.assign({}, state, {\n      text: '',\n      target: null,\n      isOpen: false\n    });\n  }\n  return state;\n}\n\n","import { TRUCKS_RECEIVED, UPDATE_LISTNER, ADD_TRUCK } from \"../../constants/action-types\";\nconst initialState = {\n  trucks: [],\n  listner: undefined\n};\n\nexport function truckReducer(state = initialState, action) {\n  if (action.type === TRUCKS_RECEIVED) {\n    console.log(action);\n    return Object.assign({}, state, {\n      trucks: action.trucks\n    });\n  } \n  else if (action.type === UPDATE_LISTNER) {\n    return Object.assign({}, state, {\n      listner: action.listner\n    });\n  }\n  else if (action.type === ADD_TRUCK) {\n    console.log(action);\n    var currentTrucks = state.trucks;\n    currentTrucks.push(action.truck);\n    return Object.assign({}, state, {\n      trucks: currentTrucks\n    });\n  } \n  \n  return state;\n}\n","import { LOGIN, REGISTER } from \"../../constants/action-types\";\nvar initialState = {};\n\nexport function localstoreReducer(state = initialState, action) {\n\n    var savedState = false;\n\n    if (action.type === LOGIN) {\n        state = Object.assign({}, state, {\n            email: action.email,\n            password: ''\n        });\n        savedState = true;\n    }\n    else if (action.type === REGISTER) {\n        state = Object.assign({}, state, {\n            email: action.email,\n            password: ''\n        });\n        savedState = true;\n    }\n\n    if (savedState) {\n        \n        var storestr = JSON.stringify(state);\n\n        console.log('local', storestr);\n\n        localStorage.setItem('store', storestr);\n        \n    }\n\n    return state;\n\n}\n","import { combineReducers } from \"redux\";\nimport { authReducer } from \"./auth/index\";\nimport { locationReducer } from \"./location/index\";\nimport { uiReducer } from \"./ui/index\";\nimport { truckReducer } from \"./trucks/index\";\nimport { localstoreReducer } from \"./localstore/index\";\n\nvar rootReducer = combineReducers({authReducer, locationReducer, uiReducer, truckReducer, localstoreReducer});\n\nexport default rootReducer;","// This import loads the firebase namespace along with all its type information.\nimport * as firebase from 'firebase/app';\n \n// These imports load individual services into the firebase namespace.\nimport 'firebase/auth';\nimport { put, takeLatest, all, select } from 'redux-saga/effects'; \n\nexport function* registerFB () {\n    const state = yield select();\n    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n      .then(function() {\n        firebase.auth().createUserWithEmailAndPassword(state.authReducer.email, state.authReducer.password)\n      })\n    .catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // ...\n        console.log(errorCode, errorMessage);\n    });\n}\n\nexport function* authFB () {\n    const state = yield select();\n    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n    .then(function() {\n        firebase.auth().signInWithEmailAndPassword(state.authReducer.email, state.authReducer.password)\n    })\n    .catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // ...\n        console.log(errorCode, errorMessage);\n    });\n}\n\nvar app = firebase.initializeApp({ \n    apiKey: 'AIzaSyBpBwGqd8U8GA-HschlOvAUWJVjUFr1bJc',\n    projectId: 'test1-2b206',\n});\nfirebase.auth().onAuthStateChanged((user) => {\n    console.log('user event', user);\n    if (user !== null) {\n        console.log('logged in', user.uid);\n    }\n    else {\n        console.log('not logged in');\n    }\n})","import { put } from 'redux-saga/effects'; \nimport { locationReceived, getTrucks } from \"../../actions/index\";\n\nexport function* fetchLocation() {\n\n    var response = yield new Promise((resolve, reject) => {\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(position => {\n                console.log(\"Latitude: \" + position.coords.latitude +\n            \"<br>Longitude: \" + position.coords.longitude);\n\n                resolve({\n                    center: {\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude\n                    },\n                    zoom: 17\n                });\n            }, \n            theerror => {\n                resolve({noGeo: true, reason: theerror, center: {\n                    lat: 51.4934,\n                    lng: 0.0098\n                },\n                zoom: 17});\n            });\n        } else {\n            resolve({noGeo: true, center: {\n                lat: 51.4934,\n                lng: 0.0098\n            },\n            zoom: 17, reason: 'no location object'});\n        }\n    });\n    \n    yield put(locationReceived(response));\n\n    yield put(getTrucks());\n}\n\n\n","import { put, select } from 'redux-saga/effects';\nimport { trucksReceived, updateListener, addTruck } from \"../../actions/index\";\nimport store from '../../store/index'\n\n// This import loads the firebase namespace along with all its type information.\nimport * as firebase from 'firebase/app';\n\n// These imports load individual services into the firebase namespace.\nimport 'firebase/auth';\n\nexport function* fetchTrucks() {\n\n    const state = yield select();\n\n    if (state.truckReducer.listner !== undefined) {\n        state.truckReducer.listner();\n    }\n\n    var listener = undefined;\n\n    yield listener = firebase.firestore().collection('trucks').onSnapshot(updateTrucks);\n\n    yield put(updateListener(listener));\n\n}\n\nfunction updateTrucks(result) {\n    \n    var trucks = [];\n\n    store.dispatch(trucksReceived(trucks));\n\n    result.forEach(function (doc) {\n        // doc.data() is never undefined for query doc snapshots\n        console.log(doc.id, \" => \", doc.data());\n        var truck = {\n            id: doc.id,\n            ...doc.data()\n        }\n        store.dispatch(addTruck(truck));\n    })\n}\n","import { takeLatest, all } from 'redux-saga/effects'; \nimport { GET_TRUCKS, GET_LOCATION, LOGIN, REGISTER } from \"../constants/action-types\";\nimport { authFB, registerFB } from './auth/index';\nimport { fetchLocation } from './location/index';\nimport { fetchTrucks } from './trucks/index';\n\n\nfunction* actionWatcher() {\n    yield takeLatest(GET_TRUCKS, fetchTrucks);\n    yield takeLatest(GET_LOCATION, fetchLocation);\n    yield takeLatest(REGISTER, registerFB);\n    yield takeLatest(LOGIN, authFB);\n} \n\nexport default function* rootSaga() {\n    yield all([\n        actionWatcher(),\n    ]);\n}","import { createStore, applyMiddleware } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from '../sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(rootReducer, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from \"react-redux\";\nimport store from \"./store/index\";\nimport { loadStore, getLocation } from \"./actions/index\";\n\n// Webpack CSS import\nimport 'onsenui/css/onsenui.css';\nimport 'onsenui/css/onsen-css-components.css';\n\nimport * as firebase from 'firebase';\n\nReactDOM.render(  <Provider store={store}>\n    <App />\n  </Provider>,\ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nstore.subscribe(() => {\n    console.log(store.getState());\n});\n\nvar localStore = {};\ntry {\n    localStore = JSON.parse(localStorage.getItem('store'));\n} catch (e) {\n    // ignore bad data\n}\n\nstore.dispatch(loadStore(localStore));\n\nstore.dispatch(getLocation());"],"sourceRoot":""}